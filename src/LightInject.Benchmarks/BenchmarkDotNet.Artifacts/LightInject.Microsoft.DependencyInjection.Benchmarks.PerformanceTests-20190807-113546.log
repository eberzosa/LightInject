// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 2 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet restore  /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/18850a31-b53f-4688-a476-718a72548d5c
// command took 1.53s and exited with 0
// start dotnet build -c Release  --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/18850a31-b53f-4688-a476-718a72548d5c
// command took 6.08s and exited with 0
// ***** Done, took 00:00:07 (7.73 sec)   *****
// Found 2 benchmarks:
//   PerformanceTests.UsingLightInject: DefaultJob
//   PerformanceTests.UsingMicrosoft: DefaultJob

// **************************
// Benchmark: PerformanceTests.UsingLightInject: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "18850a31-b53f-4688-a476-718a72548d5c.dll" --benchmarkName "LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests.UsingLightInject" --job "Default" --benchmarkId 0 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/18850a31-b53f-4688-a476-718a72548d5c/bin/Release/netcoreapp2.2
Failed to set up high priority. Make sure you have the right permissions. Message: Permission denied
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 307255.00 ns, 307.2550 us/op
WorkloadJitting  1: 1 op, 31062358.00 ns, 31.0624 ms/op

OverheadJitting  2: 16 op, 481422.00 ns, 30.0889 us/op
WorkloadJitting  2: 16 op, 361740.00 ns, 22.6088 us/op

WorkloadPilot    1: 16 op, 10753.00 ns, 672.0625 ns/op
WorkloadPilot    2: 32 op, 3933.00 ns, 122.9063 ns/op
WorkloadPilot    3: 64 op, 5104.00 ns, 79.7500 ns/op
WorkloadPilot    4: 128 op, 7210.00 ns, 56.3281 ns/op
WorkloadPilot    5: 256 op, 10606.00 ns, 41.4297 ns/op
WorkloadPilot    6: 512 op, 19677.00 ns, 38.4316 ns/op
WorkloadPilot    7: 1024 op, 36678.00 ns, 35.8184 ns/op
WorkloadPilot    8: 2048 op, 126683.00 ns, 61.8569 ns/op
WorkloadPilot    9: 4096 op, 140978.00 ns, 34.4185 ns/op
WorkloadPilot   10: 8192 op, 308600.00 ns, 37.6709 ns/op
WorkloadPilot   11: 16384 op, 608169.00 ns, 37.1197 ns/op
WorkloadPilot   12: 32768 op, 1263098.00 ns, 38.5467 ns/op
WorkloadPilot   13: 65536 op, 2654056.00 ns, 40.4977 ns/op
WorkloadPilot   14: 131072 op, 5016850.00 ns, 38.2755 ns/op
WorkloadPilot   15: 262144 op, 9550736.00 ns, 36.4332 ns/op
WorkloadPilot   16: 524288 op, 18704491.00 ns, 35.6760 ns/op
WorkloadPilot   17: 1048576 op, 36797276.00 ns, 35.0926 ns/op
WorkloadPilot   18: 2097152 op, 74580434.00 ns, 35.5627 ns/op
WorkloadPilot   19: 4194304 op, 142647072.00 ns, 34.0097 ns/op
WorkloadPilot   20: 8388608 op, 275227198.00 ns, 32.8096 ns/op
WorkloadPilot   21: 16777216 op, 551746327.00 ns, 32.8866 ns/op

OverheadWarmup   1: 16777216 op, 27195924.00 ns, 1.6210 ns/op
OverheadWarmup   2: 16777216 op, 26570598.00 ns, 1.5837 ns/op
OverheadWarmup   3: 16777216 op, 27506852.00 ns, 1.6395 ns/op
OverheadWarmup   4: 16777216 op, 28931848.00 ns, 1.7245 ns/op
OverheadWarmup   5: 16777216 op, 28315862.00 ns, 1.6878 ns/op
OverheadWarmup   6: 16777216 op, 28106095.00 ns, 1.6753 ns/op
OverheadWarmup   7: 16777216 op, 28487166.00 ns, 1.6980 ns/op
OverheadWarmup   8: 16777216 op, 28873282.00 ns, 1.7210 ns/op
OverheadWarmup   9: 16777216 op, 28013139.00 ns, 1.6697 ns/op

OverheadActual   1: 16777216 op, 28589210.00 ns, 1.7040 ns/op
OverheadActual   2: 16777216 op, 28453328.00 ns, 1.6960 ns/op
OverheadActual   3: 16777216 op, 28312386.00 ns, 1.6875 ns/op
OverheadActual   4: 16777216 op, 28309552.00 ns, 1.6874 ns/op
OverheadActual   5: 16777216 op, 27721000.00 ns, 1.6523 ns/op
OverheadActual   6: 16777216 op, 30001308.00 ns, 1.7882 ns/op
OverheadActual   7: 16777216 op, 27900715.00 ns, 1.6630 ns/op
OverheadActual   8: 16777216 op, 28154118.00 ns, 1.6781 ns/op
OverheadActual   9: 16777216 op, 28346075.00 ns, 1.6896 ns/op
OverheadActual  10: 16777216 op, 27396710.00 ns, 1.6330 ns/op
OverheadActual  11: 16777216 op, 27719638.00 ns, 1.6522 ns/op
OverheadActual  12: 16777216 op, 28415533.00 ns, 1.6937 ns/op
OverheadActual  13: 16777216 op, 28333734.00 ns, 1.6888 ns/op
OverheadActual  14: 16777216 op, 29350722.00 ns, 1.7494 ns/op
OverheadActual  15: 16777216 op, 27915853.00 ns, 1.6639 ns/op

WorkloadWarmup   1: 16777216 op, 562003361.00 ns, 33.4980 ns/op
WorkloadWarmup   2: 16777216 op, 544252501.00 ns, 32.4400 ns/op
WorkloadWarmup   3: 16777216 op, 558791231.00 ns, 33.3066 ns/op
WorkloadWarmup   4: 16777216 op, 545956425.00 ns, 32.5415 ns/op
WorkloadWarmup   5: 16777216 op, 540343412.00 ns, 32.2070 ns/op
WorkloadWarmup   6: 16777216 op, 555556906.00 ns, 33.1138 ns/op
WorkloadWarmup   7: 16777216 op, 539011064.00 ns, 32.1276 ns/op

// BeforeActualRun
WorkloadActual   1: 16777216 op, 549151321.00 ns, 32.7320 ns/op
WorkloadActual   2: 16777216 op, 556161573.00 ns, 33.1498 ns/op
WorkloadActual   3: 16777216 op, 552590914.00 ns, 32.9370 ns/op
WorkloadActual   4: 16777216 op, 541963163.00 ns, 32.3035 ns/op
WorkloadActual   5: 16777216 op, 544038491.00 ns, 32.4272 ns/op
WorkloadActual   6: 16777216 op, 544486619.00 ns, 32.4539 ns/op
WorkloadActual   7: 16777216 op, 552653500.00 ns, 32.9407 ns/op
WorkloadActual   8: 16777216 op, 554547475.00 ns, 33.0536 ns/op
WorkloadActual   9: 16777216 op, 549570782.00 ns, 32.7570 ns/op
WorkloadActual  10: 16777216 op, 541754950.00 ns, 32.2911 ns/op
WorkloadActual  11: 16777216 op, 549651070.00 ns, 32.7618 ns/op
WorkloadActual  12: 16777216 op, 545228760.00 ns, 32.4982 ns/op
WorkloadActual  13: 16777216 op, 550553463.00 ns, 32.8155 ns/op
WorkloadActual  14: 16777216 op, 555387413.00 ns, 33.1037 ns/op
WorkloadActual  15: 16777216 op, 556683915.00 ns, 33.1809 ns/op

// AfterActualRun
WorkloadResult   1: 16777216 op, 520838935.00 ns, 31.0444 ns/op
WorkloadResult   2: 16777216 op, 527849187.00 ns, 31.4623 ns/op
WorkloadResult   3: 16777216 op, 524278528.00 ns, 31.2494 ns/op
WorkloadResult   4: 16777216 op, 513650777.00 ns, 30.6160 ns/op
WorkloadResult   5: 16777216 op, 515726105.00 ns, 30.7397 ns/op
WorkloadResult   6: 16777216 op, 516174233.00 ns, 30.7664 ns/op
WorkloadResult   7: 16777216 op, 524341114.00 ns, 31.2532 ns/op
WorkloadResult   8: 16777216 op, 526235089.00 ns, 31.3661 ns/op
WorkloadResult   9: 16777216 op, 521258396.00 ns, 31.0694 ns/op
WorkloadResult  10: 16777216 op, 513442564.00 ns, 30.6036 ns/op
WorkloadResult  11: 16777216 op, 521338684.00 ns, 31.0742 ns/op
WorkloadResult  12: 16777216 op, 516916374.00 ns, 30.8106 ns/op
WorkloadResult  13: 16777216 op, 522241077.00 ns, 31.1280 ns/op
WorkloadResult  14: 16777216 op, 527075027.00 ns, 31.4161 ns/op
WorkloadResult  15: 16777216 op, 528371529.00 ns, 31.4934 ns/op
GC:  0 0 0 0 0

// AfterAll

Mean = 31.0728 ns, StdErr = 0.0788 ns (0.25%); N = 15, StdDev = 0.3050 ns
Min = 30.6036 ns, Q1 = 30.7664 ns, Median = 31.0742 ns, Q3 = 31.3661 ns, Max = 31.4934 ns
IQR = 0.5997 ns, LowerFence = 29.8669 ns, UpperFence = 32.2656 ns
ConfidenceInterval = [30.7468 ns; 31.3989 ns] (CI 99.9%), Margin = 0.3261 ns (1.05% of Mean)
Skewness = -0.17, Kurtosis = 1.51, MValue = 2

// **************************
// Benchmark: PerformanceTests.UsingMicrosoft: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "18850a31-b53f-4688-a476-718a72548d5c.dll" --benchmarkName "LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests.UsingMicrosoft" --job "Default" --benchmarkId 1 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/18850a31-b53f-4688-a476-718a72548d5c/bin/Release/netcoreapp2.2
Failed to set up high priority. Make sure you have the right permissions. Message: Permission denied
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 299795.00 ns, 299.7950 us/op
WorkloadJitting  1: 1 op, 13103422.00 ns, 13.1034 ms/op

OverheadJitting  2: 16 op, 287413.00 ns, 17.9633 us/op
WorkloadJitting  2: 16 op, 549720.00 ns, 34.3575 us/op

WorkloadPilot    1: 16 op, 7690.00 ns, 480.6250 ns/op
WorkloadPilot    2: 32 op, 7334.00 ns, 229.1875 ns/op
WorkloadPilot    3: 64 op, 10175.00 ns, 158.9844 ns/op
WorkloadPilot    4: 128 op, 20739.00 ns, 162.0234 ns/op
WorkloadPilot    5: 256 op, 30936.00 ns, 120.8438 ns/op
WorkloadPilot    6: 512 op, 59566.00 ns, 116.3398 ns/op
WorkloadPilot    7: 1024 op, 116097.00 ns, 113.3760 ns/op
WorkloadPilot    8: 2048 op, 250525.00 ns, 122.3267 ns/op
WorkloadPilot    9: 4096 op, 455578.00 ns, 111.2251 ns/op
WorkloadPilot   10: 8192 op, 907772.00 ns, 110.8120 ns/op
WorkloadPilot   11: 16384 op, 1897578.00 ns, 115.8190 ns/op
WorkloadPilot   12: 32768 op, 4582147.00 ns, 139.8360 ns/op
WorkloadPilot   13: 65536 op, 7823475.00 ns, 119.3768 ns/op
WorkloadPilot   14: 131072 op, 6893832.00 ns, 52.5958 ns/op
WorkloadPilot   15: 262144 op, 11832988.00 ns, 45.1393 ns/op
WorkloadPilot   16: 524288 op, 22964590.00 ns, 43.8015 ns/op
WorkloadPilot   17: 1048576 op, 47226228.00 ns, 45.0384 ns/op
WorkloadPilot   18: 2097152 op, 92607553.00 ns, 44.1587 ns/op
WorkloadPilot   19: 4194304 op, 175342558.00 ns, 41.8049 ns/op
WorkloadPilot   20: 8388608 op, 360662579.00 ns, 42.9943 ns/op
WorkloadPilot   21: 16777216 op, 711112846.00 ns, 42.3856 ns/op

OverheadWarmup   1: 16777216 op, 27813385.00 ns, 1.6578 ns/op
OverheadWarmup   2: 16777216 op, 28414228.00 ns, 1.6936 ns/op
OverheadWarmup   3: 16777216 op, 28368243.00 ns, 1.6909 ns/op
OverheadWarmup   4: 16777216 op, 34194024.00 ns, 2.0381 ns/op
OverheadWarmup   5: 16777216 op, 36572747.00 ns, 2.1799 ns/op
OverheadWarmup   6: 16777216 op, 32994952.00 ns, 1.9667 ns/op

OverheadActual   1: 16777216 op, 27792961.00 ns, 1.6566 ns/op
OverheadActual   2: 16777216 op, 28941292.00 ns, 1.7250 ns/op
OverheadActual   3: 16777216 op, 27833644.00 ns, 1.6590 ns/op
OverheadActual   4: 16777216 op, 27425344.00 ns, 1.6347 ns/op
OverheadActual   5: 16777216 op, 28037059.00 ns, 1.6711 ns/op
OverheadActual   6: 16777216 op, 27220078.00 ns, 1.6224 ns/op
OverheadActual   7: 16777216 op, 28667076.00 ns, 1.7087 ns/op
OverheadActual   8: 16777216 op, 27845695.00 ns, 1.6597 ns/op
OverheadActual   9: 16777216 op, 28193908.00 ns, 1.6805 ns/op
OverheadActual  10: 16777216 op, 28823364.00 ns, 1.7180 ns/op
OverheadActual  11: 16777216 op, 27566658.00 ns, 1.6431 ns/op
OverheadActual  12: 16777216 op, 28468250.00 ns, 1.6968 ns/op
OverheadActual  13: 16777216 op, 27566561.00 ns, 1.6431 ns/op
OverheadActual  14: 16777216 op, 27332736.00 ns, 1.6292 ns/op
OverheadActual  15: 16777216 op, 27522068.00 ns, 1.6404 ns/op

WorkloadWarmup   1: 16777216 op, 737487368.00 ns, 43.9577 ns/op
WorkloadWarmup   2: 16777216 op, 715699521.00 ns, 42.6590 ns/op
WorkloadWarmup   3: 16777216 op, 707854979.00 ns, 42.1914 ns/op
WorkloadWarmup   4: 16777216 op, 713146333.00 ns, 42.5068 ns/op
WorkloadWarmup   5: 16777216 op, 777759675.00 ns, 46.3581 ns/op
WorkloadWarmup   6: 16777216 op, 708835978.00 ns, 42.2499 ns/op
WorkloadWarmup   7: 16777216 op, 738883305.00 ns, 44.0409 ns/op
WorkloadWarmup   8: 16777216 op, 708836534.00 ns, 42.2499 ns/op

// BeforeActualRun
WorkloadActual   1: 16777216 op, 711752783.00 ns, 42.4238 ns/op
WorkloadActual   2: 16777216 op, 704936616.00 ns, 42.0175 ns/op
WorkloadActual   3: 16777216 op, 726049207.00 ns, 43.2759 ns/op
WorkloadActual   4: 16777216 op, 709072314.00 ns, 42.2640 ns/op
WorkloadActual   5: 16777216 op, 703383279.00 ns, 41.9249 ns/op
WorkloadActual   6: 16777216 op, 717191943.00 ns, 42.7480 ns/op
WorkloadActual   7: 16777216 op, 705016599.00 ns, 42.0223 ns/op
WorkloadActual   8: 16777216 op, 707397977.00 ns, 42.1642 ns/op
WorkloadActual   9: 16777216 op, 711925088.00 ns, 42.4340 ns/op
WorkloadActual  10: 16777216 op, 713530805.00 ns, 42.5298 ns/op
WorkloadActual  11: 16777216 op, 708682535.00 ns, 42.2408 ns/op
WorkloadActual  12: 16777216 op, 719143891.00 ns, 42.8643 ns/op
WorkloadActual  13: 16777216 op, 727207023.00 ns, 43.3449 ns/op
WorkloadActual  14: 16777216 op, 706765247.00 ns, 42.1265 ns/op
WorkloadActual  15: 16777216 op, 706365343.00 ns, 42.1027 ns/op

// AfterActualRun
WorkloadResult   1: 16777216 op, 683919139.00 ns, 40.7648 ns/op
WorkloadResult   2: 16777216 op, 677102972.00 ns, 40.3585 ns/op
WorkloadResult   3: 16777216 op, 698215563.00 ns, 41.6169 ns/op
WorkloadResult   4: 16777216 op, 681238670.00 ns, 40.6050 ns/op
WorkloadResult   5: 16777216 op, 675549635.00 ns, 40.2659 ns/op
WorkloadResult   6: 16777216 op, 689358299.00 ns, 41.0890 ns/op
WorkloadResult   7: 16777216 op, 677182955.00 ns, 40.3632 ns/op
WorkloadResult   8: 16777216 op, 679564333.00 ns, 40.5052 ns/op
WorkloadResult   9: 16777216 op, 684091444.00 ns, 40.7750 ns/op
WorkloadResult  10: 16777216 op, 685697161.00 ns, 40.8707 ns/op
WorkloadResult  11: 16777216 op, 680848891.00 ns, 40.5818 ns/op
WorkloadResult  12: 16777216 op, 691310247.00 ns, 41.2053 ns/op
WorkloadResult  13: 16777216 op, 699373379.00 ns, 41.6859 ns/op
WorkloadResult  14: 16777216 op, 678931603.00 ns, 40.4675 ns/op
WorkloadResult  15: 16777216 op, 678531699.00 ns, 40.4436 ns/op
GC:  0 0 0 0 0

// AfterAll

Mean = 40.7732 ns, StdErr = 0.1150 ns (0.28%); N = 15, StdDev = 0.4454 ns
Min = 40.2659 ns, Q1 = 40.4436 ns, Median = 40.6050 ns, Q3 = 41.0890 ns, Max = 41.6859 ns
IQR = 0.6453 ns, LowerFence = 39.4757 ns, UpperFence = 42.0569 ns
ConfidenceInterval = [40.2971 ns; 41.2494 ns] (CI 99.9%), Margin = 0.4761 ns (1.17% of Mean)
Skewness = 0.84, Kurtosis = 2.37, MValue = 2

// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts/results/LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests-report.csv
  BenchmarkDotNet.Artifacts/results/LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests-report-github.md
  BenchmarkDotNet.Artifacts/results/LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests-report.html

// * Detailed results *
PerformanceTests.UsingLightInject: DefaultJob
Runtime = .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT; GC = Concurrent Workstation
Mean = 31.0728 ns, StdErr = 0.0788 ns (0.25%); N = 15, StdDev = 0.3050 ns
Min = 30.6036 ns, Q1 = 30.7664 ns, Median = 31.0742 ns, Q3 = 31.3661 ns, Max = 31.4934 ns
IQR = 0.5997 ns, LowerFence = 29.8669 ns, UpperFence = 32.2656 ns
ConfidenceInterval = [30.7468 ns; 31.3989 ns] (CI 99.9%), Margin = 0.3261 ns (1.05% of Mean)
Skewness = -0.17, Kurtosis = 1.51, MValue = 2
-------------------- Histogram --------------------
[30.495 ns ; 31.602 ns) | @@@@@@@@@@@@@@@
---------------------------------------------------

PerformanceTests.UsingMicrosoft: DefaultJob
Runtime = .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT; GC = Concurrent Workstation
Mean = 40.7732 ns, StdErr = 0.1150 ns (0.28%); N = 15, StdDev = 0.4454 ns
Min = 40.2659 ns, Q1 = 40.4436 ns, Median = 40.6050 ns, Q3 = 41.0890 ns, Max = 41.6859 ns
IQR = 0.6453 ns, LowerFence = 39.4757 ns, UpperFence = 42.0569 ns
ConfidenceInterval = [40.2971 ns; 41.2494 ns] (CI 99.9%), Margin = 0.4761 ns (1.17% of Mean)
Skewness = 0.84, Kurtosis = 2.37, MValue = 2
-------------------- Histogram --------------------
[40.108 ns ; 41.844 ns) | @@@@@@@@@@@@@@@
---------------------------------------------------

// * Summary *

BenchmarkDotNet=v0.11.5, OS=macOS Mojave 10.14.5 (18F132) [Darwin 18.6.0]
Intel Core i7-7820HQ CPU 2.90GHz (Kaby Lake), 1 CPU, 8 logical and 4 physical cores
.NET Core SDK=3.0.100-preview6-012264
  [Host]     : .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT
  DefaultJob : .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT


|           Method |     Mean |     Error |    StdDev |
|----------------- |---------:|----------:|----------:|
| UsingLightInject | 31.07 ns | 0.3261 ns | 0.3050 ns |
|   UsingMicrosoft | 40.77 ns | 0.4761 ns | 0.4454 ns |

// * Legends *
  Mean   : Arithmetic mean of all measurements
  Error  : Half of 99.9% confidence interval
  StdDev : Standard deviation of all measurements
  1 ns   : 1 Nanosecond (0.000000001 sec)

// ***** BenchmarkRunner: End *****
// ** Remained 0 benchmark(s) to run **
Run time: 00:00:33 (33.84 sec), executed benchmarks: 2

Global total time: 00:00:41 (41.59 sec), executed benchmarks: 2
// * Artifacts cleanup *
