// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 2 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet restore  /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/1a32755b-7b18-42d2-b1fd-7d87928b2e52
// command took 1.55s and exited with 0
// start dotnet build -c Release  --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/1a32755b-7b18-42d2-b1fd-7d87928b2e52
// command took 6.14s and exited with 0
// ***** Done, took 00:00:07 (7.84 sec)   *****
// Found 2 benchmarks:
//   PerformanceTests.UsingLightInject: DefaultJob
//   PerformanceTests.UsingMicrosoft: DefaultJob

// **************************
// Benchmark: PerformanceTests.UsingLightInject: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "1a32755b-7b18-42d2-b1fd-7d87928b2e52.dll" --benchmarkName "LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests.UsingLightInject" --job "Default" --benchmarkId 0 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/1a32755b-7b18-42d2-b1fd-7d87928b2e52/bin/Release/netcoreapp2.2
Failed to set up high priority. Make sure you have the right permissions. Message: Permission denied
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 291029.00 ns, 291.0290 us/op
WorkloadJitting  1: 1 op, 28602676.00 ns, 28.6027 ms/op

OverheadJitting  2: 16 op, 280585.00 ns, 17.5366 us/op
WorkloadJitting  2: 16 op, 289368.00 ns, 18.0855 us/op

WorkloadPilot    1: 16 op, 9236.00 ns, 577.2500 ns/op
WorkloadPilot    2: 32 op, 2686.00 ns, 83.9375 ns/op
WorkloadPilot    3: 64 op, 3096.00 ns, 48.3750 ns/op
WorkloadPilot    4: 128 op, 4307.00 ns, 33.6484 ns/op
WorkloadPilot    5: 256 op, 7165.00 ns, 27.9883 ns/op
WorkloadPilot    6: 512 op, 13029.00 ns, 25.4473 ns/op
WorkloadPilot    7: 1024 op, 24823.00 ns, 24.2412 ns/op
WorkloadPilot    8: 2048 op, 48811.00 ns, 23.8335 ns/op
WorkloadPilot    9: 4096 op, 92813.00 ns, 22.6594 ns/op
WorkloadPilot   10: 8192 op, 179562.00 ns, 21.9192 ns/op
WorkloadPilot   11: 16384 op, 399735.00 ns, 24.3979 ns/op
WorkloadPilot   12: 32768 op, 899628.00 ns, 27.4545 ns/op
WorkloadPilot   13: 65536 op, 1709507.00 ns, 26.0850 ns/op
WorkloadPilot   14: 131072 op, 3533954.00 ns, 26.9619 ns/op
WorkloadPilot   15: 262144 op, 6268093.00 ns, 23.9109 ns/op
WorkloadPilot   16: 524288 op, 11891702.00 ns, 22.6816 ns/op
WorkloadPilot   17: 1048576 op, 24544377.00 ns, 23.4073 ns/op
WorkloadPilot   18: 2097152 op, 48238801.00 ns, 23.0021 ns/op
WorkloadPilot   19: 4194304 op, 97530904.00 ns, 23.2532 ns/op
WorkloadPilot   20: 8388608 op, 185380946.00 ns, 22.0991 ns/op
WorkloadPilot   21: 16777216 op, 368758020.00 ns, 21.9797 ns/op
WorkloadPilot   22: 33554432 op, 742970908.00 ns, 22.1423 ns/op

OverheadWarmup   1: 33554432 op, 55530382.00 ns, 1.6549 ns/op
OverheadWarmup   2: 33554432 op, 55597886.00 ns, 1.6569 ns/op
OverheadWarmup   3: 33554432 op, 55934894.00 ns, 1.6670 ns/op
OverheadWarmup   4: 33554432 op, 56056556.00 ns, 1.6706 ns/op
OverheadWarmup   5: 33554432 op, 55021115.00 ns, 1.6398 ns/op
OverheadWarmup   6: 33554432 op, 56250058.00 ns, 1.6764 ns/op
OverheadWarmup   7: 33554432 op, 54922332.00 ns, 1.6368 ns/op

OverheadActual   1: 33554432 op, 57635136.00 ns, 1.7177 ns/op
OverheadActual   2: 33554432 op, 57345089.00 ns, 1.7090 ns/op
OverheadActual   3: 33554432 op, 56131601.00 ns, 1.6729 ns/op
OverheadActual   4: 33554432 op, 55448352.00 ns, 1.6525 ns/op
OverheadActual   5: 33554432 op, 55567108.00 ns, 1.6560 ns/op
OverheadActual   6: 33554432 op, 55277166.00 ns, 1.6474 ns/op
OverheadActual   7: 33554432 op, 55609681.00 ns, 1.6573 ns/op
OverheadActual   8: 33554432 op, 54500881.00 ns, 1.6243 ns/op
OverheadActual   9: 33554432 op, 56083714.00 ns, 1.6714 ns/op
OverheadActual  10: 33554432 op, 55555405.00 ns, 1.6557 ns/op
OverheadActual  11: 33554432 op, 55266910.00 ns, 1.6471 ns/op
OverheadActual  12: 33554432 op, 55378129.00 ns, 1.6504 ns/op
OverheadActual  13: 33554432 op, 56820275.00 ns, 1.6934 ns/op
OverheadActual  14: 33554432 op, 56916125.00 ns, 1.6962 ns/op
OverheadActual  15: 33554432 op, 62008566.00 ns, 1.8480 ns/op

WorkloadWarmup   1: 33554432 op, 784780787.00 ns, 23.3883 ns/op
WorkloadWarmup   2: 33554432 op, 727625306.00 ns, 21.6849 ns/op
WorkloadWarmup   3: 33554432 op, 727403094.00 ns, 21.6783 ns/op
WorkloadWarmup   4: 33554432 op, 725936727.00 ns, 21.6346 ns/op
WorkloadWarmup   5: 33554432 op, 720248892.00 ns, 21.4651 ns/op
WorkloadWarmup   6: 33554432 op, 729806682.00 ns, 21.7499 ns/op
WorkloadWarmup   7: 33554432 op, 731837177.00 ns, 21.8104 ns/op
WorkloadWarmup   8: 33554432 op, 744981010.00 ns, 22.2022 ns/op
WorkloadWarmup   9: 33554432 op, 737107962.00 ns, 21.9675 ns/op
WorkloadWarmup  10: 33554432 op, 759455477.00 ns, 22.6335 ns/op
WorkloadWarmup  11: 33554432 op, 738640265.00 ns, 22.0132 ns/op

// BeforeActualRun
WorkloadActual   1: 33554432 op, 735601236.00 ns, 21.9226 ns/op
WorkloadActual   2: 33554432 op, 740953823.00 ns, 22.0821 ns/op
WorkloadActual   3: 33554432 op, 740387964.00 ns, 22.0653 ns/op
WorkloadActual   4: 33554432 op, 742442604.00 ns, 22.1265 ns/op
WorkloadActual   5: 33554432 op, 717210754.00 ns, 21.3745 ns/op
WorkloadActual   6: 33554432 op, 739737267.00 ns, 22.0459 ns/op
WorkloadActual   7: 33554432 op, 719680959.00 ns, 21.4482 ns/op
WorkloadActual   8: 33554432 op, 741002137.00 ns, 22.0836 ns/op
WorkloadActual   9: 33554432 op, 722941917.00 ns, 21.5453 ns/op
WorkloadActual  10: 33554432 op, 744452664.00 ns, 22.1864 ns/op
WorkloadActual  11: 33554432 op, 788678215.00 ns, 23.5044 ns/op
WorkloadActual  12: 33554432 op, 833082433.00 ns, 24.8278 ns/op
WorkloadActual  13: 33554432 op, 774116886.00 ns, 23.0705 ns/op
WorkloadActual  14: 33554432 op, 727032980.00 ns, 21.6673 ns/op
WorkloadActual  15: 33554432 op, 741814289.00 ns, 22.1078 ns/op

// AfterActualRun
WorkloadResult   1: 33554432 op, 679991555.00 ns, 20.2653 ns/op
WorkloadResult   2: 33554432 op, 685344142.00 ns, 20.4248 ns/op
WorkloadResult   3: 33554432 op, 684778283.00 ns, 20.4080 ns/op
WorkloadResult   4: 33554432 op, 686832923.00 ns, 20.4692 ns/op
WorkloadResult   5: 33554432 op, 661601073.00 ns, 19.7172 ns/op
WorkloadResult   6: 33554432 op, 684127586.00 ns, 20.3886 ns/op
WorkloadResult   7: 33554432 op, 664071278.00 ns, 19.7909 ns/op
WorkloadResult   8: 33554432 op, 685392456.00 ns, 20.4263 ns/op
WorkloadResult   9: 33554432 op, 667332236.00 ns, 19.8881 ns/op
WorkloadResult  10: 33554432 op, 688842983.00 ns, 20.5291 ns/op
WorkloadResult  11: 33554432 op, 671423299.00 ns, 20.0100 ns/op
WorkloadResult  12: 33554432 op, 686204608.00 ns, 20.4505 ns/op
GC:  0 0 0 0 0

// AfterAll

Mean = 20.2307 ns, StdErr = 0.0849 ns (0.42%); N = 12, StdDev = 0.2940 ns
Min = 19.7172 ns, Q1 = 19.9490 ns, Median = 20.3983 ns, Q3 = 20.4384 ns, Max = 20.5291 ns
IQR = 0.4894 ns, LowerFence = 19.2149 ns, UpperFence = 21.1725 ns
ConfidenceInterval = [19.8541 ns; 20.6073 ns] (CI 99.9%), Margin = 0.3766 ns (1.86% of Mean)
Skewness = -0.64, Kurtosis = 1.57, MValue = 2

// **************************
// Benchmark: PerformanceTests.UsingMicrosoft: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "1a32755b-7b18-42d2-b1fd-7d87928b2e52.dll" --benchmarkName "LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests.UsingMicrosoft" --job "Default" --benchmarkId 1 in /Users/bernhardrichter/GitHub/LightInject/src/LightInject.Benchmarks/bin/release/netcoreapp2.2/1a32755b-7b18-42d2-b1fd-7d87928b2e52/bin/Release/netcoreapp2.2
Failed to set up high priority. Make sure you have the right permissions. Message: Permission denied
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT
// GC=Concurrent Workstation
// Job: DefaultJob

OverheadJitting  1: 1 op, 332063.00 ns, 332.0630 us/op
WorkloadJitting  1: 1 op, 17347000.00 ns, 17.3470 ms/op

OverheadJitting  2: 16 op, 453890.00 ns, 28.3681 us/op
WorkloadJitting  2: 16 op, 875345.00 ns, 54.7091 us/op

WorkloadPilot    1: 16 op, 9835.00 ns, 614.6875 ns/op
WorkloadPilot    2: 32 op, 26127.00 ns, 816.4688 ns/op
WorkloadPilot    3: 64 op, 29646.00 ns, 463.2188 ns/op
WorkloadPilot    4: 128 op, 41671.00 ns, 325.5547 ns/op
WorkloadPilot    5: 256 op, 83192.00 ns, 324.9688 ns/op
WorkloadPilot    6: 512 op, 58098.00 ns, 113.4727 ns/op
WorkloadPilot    7: 1024 op, 117455.00 ns, 114.7021 ns/op
WorkloadPilot    8: 2048 op, 232500.00 ns, 113.5254 ns/op
WorkloadPilot    9: 4096 op, 810720.00 ns, 197.9297 ns/op
WorkloadPilot   10: 8192 op, 926714.00 ns, 113.1243 ns/op
WorkloadPilot   11: 16384 op, 3175180.00 ns, 193.7976 ns/op
WorkloadPilot   12: 32768 op, 3914356.00 ns, 119.4567 ns/op
WorkloadPilot   13: 65536 op, 7780214.00 ns, 118.7166 ns/op
WorkloadPilot   14: 131072 op, 6869623.00 ns, 52.4111 ns/op
WorkloadPilot   15: 262144 op, 11896639.00 ns, 45.3821 ns/op
WorkloadPilot   16: 524288 op, 26110777.00 ns, 49.8024 ns/op
WorkloadPilot   17: 1048576 op, 55729921.00 ns, 53.1482 ns/op
WorkloadPilot   18: 2097152 op, 97220000.00 ns, 46.3581 ns/op
WorkloadPilot   19: 4194304 op, 189897525.00 ns, 45.2751 ns/op
WorkloadPilot   20: 8388608 op, 370646956.00 ns, 44.1846 ns/op
WorkloadPilot   21: 16777216 op, 706024248.00 ns, 42.0823 ns/op

OverheadWarmup   1: 16777216 op, 26651679.00 ns, 1.5886 ns/op
OverheadWarmup   2: 16777216 op, 27890886.00 ns, 1.6624 ns/op
OverheadWarmup   3: 16777216 op, 28834495.00 ns, 1.7187 ns/op
OverheadWarmup   4: 16777216 op, 28462045.00 ns, 1.6965 ns/op
OverheadWarmup   5: 16777216 op, 27622344.00 ns, 1.6464 ns/op
OverheadWarmup   6: 16777216 op, 28005134.00 ns, 1.6692 ns/op
OverheadWarmup   7: 16777216 op, 28308626.00 ns, 1.6873 ns/op
OverheadWarmup   8: 16777216 op, 27889678.00 ns, 1.6624 ns/op

OverheadActual   1: 16777216 op, 27390347.00 ns, 1.6326 ns/op
OverheadActual   2: 16777216 op, 27995879.00 ns, 1.6687 ns/op
OverheadActual   3: 16777216 op, 26495660.00 ns, 1.5793 ns/op
OverheadActual   4: 16777216 op, 28155359.00 ns, 1.6782 ns/op
OverheadActual   5: 16777216 op, 27379156.00 ns, 1.6319 ns/op
OverheadActual   6: 16777216 op, 28284851.00 ns, 1.6859 ns/op
OverheadActual   7: 16777216 op, 27355331.00 ns, 1.6305 ns/op
OverheadActual   8: 16777216 op, 28098691.00 ns, 1.6748 ns/op
OverheadActual   9: 16777216 op, 27429670.00 ns, 1.6349 ns/op
OverheadActual  10: 16777216 op, 26846168.00 ns, 1.6002 ns/op
OverheadActual  11: 16777216 op, 29323575.00 ns, 1.7478 ns/op
OverheadActual  12: 16777216 op, 28993926.00 ns, 1.7282 ns/op
OverheadActual  13: 16777216 op, 27417836.00 ns, 1.6342 ns/op
OverheadActual  14: 16777216 op, 27117225.00 ns, 1.6163 ns/op
OverheadActual  15: 16777216 op, 27387618.00 ns, 1.6324 ns/op

WorkloadWarmup   1: 16777216 op, 717126068.00 ns, 42.7440 ns/op
WorkloadWarmup   2: 16777216 op, 716571880.00 ns, 42.7110 ns/op
WorkloadWarmup   3: 16777216 op, 698317876.00 ns, 41.6230 ns/op
WorkloadWarmup   4: 16777216 op, 695405798.00 ns, 41.4494 ns/op
WorkloadWarmup   5: 16777216 op, 729979434.00 ns, 43.5102 ns/op
WorkloadWarmup   6: 16777216 op, 699323093.00 ns, 41.6829 ns/op
WorkloadWarmup   7: 16777216 op, 707168150.00 ns, 42.1505 ns/op
WorkloadWarmup   8: 16777216 op, 712526595.00 ns, 42.4699 ns/op
WorkloadWarmup   9: 16777216 op, 707802217.00 ns, 42.1883 ns/op

// BeforeActualRun
WorkloadActual   1: 16777216 op, 709999649.00 ns, 42.3193 ns/op
WorkloadActual   2: 16777216 op, 709159197.00 ns, 42.2692 ns/op
WorkloadActual   3: 16777216 op, 754861611.00 ns, 44.9933 ns/op
WorkloadActual   4: 16777216 op, 697354956.00 ns, 41.5656 ns/op
WorkloadActual   5: 16777216 op, 701308577.00 ns, 41.8012 ns/op
WorkloadActual   6: 16777216 op, 707785118.00 ns, 42.1873 ns/op
WorkloadActual   7: 16777216 op, 705063430.00 ns, 42.0251 ns/op
WorkloadActual   8: 16777216 op, 700048753.00 ns, 41.7262 ns/op
WorkloadActual   9: 16777216 op, 701899354.00 ns, 41.8365 ns/op
WorkloadActual  10: 16777216 op, 701290870.00 ns, 41.8002 ns/op
WorkloadActual  11: 16777216 op, 716662818.00 ns, 42.7164 ns/op
WorkloadActual  12: 16777216 op, 702322298.00 ns, 41.8617 ns/op
WorkloadActual  13: 16777216 op, 714806345.00 ns, 42.6058 ns/op
WorkloadActual  14: 16777216 op, 725357364.00 ns, 43.2347 ns/op
WorkloadActual  15: 16777216 op, 708557251.00 ns, 42.2333 ns/op

// AfterActualRun
WorkloadResult   1: 16777216 op, 682581813.00 ns, 40.6850 ns/op
WorkloadResult   2: 16777216 op, 681741361.00 ns, 40.6350 ns/op
WorkloadResult   3: 16777216 op, 669937120.00 ns, 39.9314 ns/op
WorkloadResult   4: 16777216 op, 673890741.00 ns, 40.1670 ns/op
WorkloadResult   5: 16777216 op, 680367282.00 ns, 40.5531 ns/op
WorkloadResult   6: 16777216 op, 677645594.00 ns, 40.3908 ns/op
WorkloadResult   7: 16777216 op, 672630917.00 ns, 40.0919 ns/op
WorkloadResult   8: 16777216 op, 674481518.00 ns, 40.2022 ns/op
WorkloadResult   9: 16777216 op, 673873034.00 ns, 40.1660 ns/op
WorkloadResult  10: 16777216 op, 689244982.00 ns, 41.0822 ns/op
WorkloadResult  11: 16777216 op, 674904462.00 ns, 40.2274 ns/op
WorkloadResult  12: 16777216 op, 687388509.00 ns, 40.9715 ns/op
WorkloadResult  13: 16777216 op, 697939528.00 ns, 41.6004 ns/op
WorkloadResult  14: 16777216 op, 681139415.00 ns, 40.5991 ns/op
GC:  0 0 0 0 0

// AfterAll

Mean = 40.5216 ns, StdErr = 0.1222 ns (0.30%); N = 14, StdDev = 0.4572 ns
Min = 39.9314 ns, Q1 = 40.1670 ns, Median = 40.4719 ns, Q3 = 40.6850 ns, Max = 41.6004 ns
IQR = 0.5180 ns, LowerFence = 39.3900 ns, UpperFence = 41.4621 ns
ConfidenceInterval = [40.0058 ns; 41.0375 ns] (CI 99.9%), Margin = 0.5158 ns (1.27% of Mean)
Skewness = 0.82, Kurtosis = 2.78, MValue = 2

// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts/results/LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests-report.csv
  BenchmarkDotNet.Artifacts/results/LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests-report-github.md
  BenchmarkDotNet.Artifacts/results/LightInject.Microsoft.DependencyInjection.Benchmarks.PerformanceTests-report.html

// * Detailed results *
PerformanceTests.UsingLightInject: DefaultJob
Runtime = .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT; GC = Concurrent Workstation
Mean = 20.2307 ns, StdErr = 0.0849 ns (0.42%); N = 12, StdDev = 0.2940 ns
Min = 19.7172 ns, Q1 = 19.9490 ns, Median = 20.3983 ns, Q3 = 20.4384 ns, Max = 20.5291 ns
IQR = 0.4894 ns, LowerFence = 19.2149 ns, UpperFence = 21.1725 ns
ConfidenceInterval = [19.8541 ns; 20.6073 ns] (CI 99.9%), Margin = 0.3766 ns (1.86% of Mean)
Skewness = -0.64, Kurtosis = 1.57, MValue = 2
-------------------- Histogram --------------------
[19.605 ns ; 20.642 ns) | @@@@@@@@@@@@
---------------------------------------------------

PerformanceTests.UsingMicrosoft: DefaultJob
Runtime = .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT; GC = Concurrent Workstation
Mean = 40.5216 ns, StdErr = 0.1222 ns (0.30%); N = 14, StdDev = 0.4572 ns
Min = 39.9314 ns, Q1 = 40.1670 ns, Median = 40.4719 ns, Q3 = 40.6850 ns, Max = 41.6004 ns
IQR = 0.5180 ns, LowerFence = 39.3900 ns, UpperFence = 41.4621 ns
ConfidenceInterval = [40.0058 ns; 41.0375 ns] (CI 99.9%), Margin = 0.5158 ns (1.27% of Mean)
Skewness = 0.82, Kurtosis = 2.78, MValue = 2
-------------------- Histogram --------------------
[39.765 ns ; 41.767 ns) | @@@@@@@@@@@@@@
---------------------------------------------------

// * Summary *

BenchmarkDotNet=v0.11.5, OS=macOS Mojave 10.14.5 (18F132) [Darwin 18.6.0]
Intel Core i7-7820HQ CPU 2.90GHz (Kaby Lake), 1 CPU, 8 logical and 4 physical cores
.NET Core SDK=3.0.100-preview6-012264
  [Host]     : .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT
  DefaultJob : .NET Core 2.2.5 (CoreCLR 4.6.27617.05, CoreFX 4.6.27618.01), 64bit RyuJIT


|           Method |     Mean |     Error |    StdDev |
|----------------- |---------:|----------:|----------:|
| UsingLightInject | 20.23 ns | 0.3766 ns | 0.2940 ns |
|   UsingMicrosoft | 40.52 ns | 0.5158 ns | 0.4572 ns |

// * Hints *
Outliers
  PerformanceTests.UsingLightInject: Default -> 3 outliers were removed (23.07 ns..24.83 ns)
  PerformanceTests.UsingMicrosoft: Default   -> 1 outlier  was  removed (44.99 ns)

// * Legends *
  Mean   : Arithmetic mean of all measurements
  Error  : Half of 99.9% confidence interval
  StdDev : Standard deviation of all measurements
  1 ns   : 1 Nanosecond (0.000000001 sec)

// ***** BenchmarkRunner: End *****
// ** Remained 0 benchmark(s) to run **
Run time: 00:00:42 (42.68 sec), executed benchmarks: 2

Global total time: 00:00:50 (50.53 sec), executed benchmarks: 2
// * Artifacts cleanup *
